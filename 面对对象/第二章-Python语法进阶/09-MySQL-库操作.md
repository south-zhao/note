# MySQL-库操作

## 1. SQL是什么

对数据库进行查询和修改操作的语言叫做 SQL（Structured Query Language，结构化查询语言）。SQL 语言是目前广泛使用的关系数据库标准语言，是各种数据库交互方式的基础。

SQL 包含以下 4 部分：

- 数据定义语言（Data Definition Language，DDL）
    - 用来创建或删除数据库以及表等对象，主要包含以下几种命令：
    - DROP：删除数据库和表等对象
    - CREATE：创建数据库和表等对象
    - ALTER：修改数据库和表等对象的结构
- 数据操作语言（Data Manipulation Language，DML）
    - 用来变更表中的记录，主要包含以下几种命令：
    - SELECT：查询表中的数据
    - INSERT：向表中插入新数据
    - UPDATE：更新表中的数据
    - DELETE：删除表中的数据
- 数据查询语言（Data Query Language，DQL）
    - 用来查询表中的记录，主要包含 SELECT 命令，来查询表中的数据。
- 数据控制语言（Data Control Language，DCL）
    - 用来确认或者取消对数据库中的数据进行的变更。除此之外，还可以对数据库中的用户设定权限。主要包含以下几种命令：
        - GRANT：赋予用户操作权限
        - REVOKE：取消用户的操作权限
        - COMMIT：确认对数据库中的数据进行的变更
        - ROLLBACK：取消对数据库中的数据进行的变更

## 2. SQL的基本书写规则

在写 SQL 语句时，只要遵守下面几个书写规则，就可以避免很多错误。

- SQL 语句要以分号`;`结尾
    - SQL 语句是逐条执行的，一条 SQL 语句代表着数据库的一个操作。
    - 我们通常在句子的句尾加注标点表示这句话结束，中文句子以句号`。`结尾，英文以点号`.`结尾，而 SQL 语句则使用英文分号`;`结尾。

- SQL 语句不区分大小写
    - SQL 不区分关键字的大小写。例如，不管写成 SELECT 还是 select，解释都是一样的。表名和列名也是如此。
- 单词需要用半角空格或者换行来分隔
    - SQL 语句的单词之间必须使用半角空格（英文空格）或换行符来进行分隔。没有分隔的语句会发生错误，无法正常执行。

## 3. MySQL库操作

数据库可以看作是一个专门存储数据对象的容器，每一个数据库都有唯一的名称，并且数据库的名称都是有实际意义的，这样就可以清晰的看出每个数据库用来存放什么数据。在 MySQL 数据库中存在系统数据库和自定义数据库，系统数据库是在安装 MySQL 后系统自带的数据库，自定义数据库是由用户定义创建的数据库。

### 创建数据库

```mysql
Ccreate database 库名 [character set utf8];
```

数据库命名规则：

- 可以由字母、数字、下划线、＠、＃、＄
- 唯一性
- 不能使用关键字如 create select
- 不能单独使用数字

### 查看数据库

```mysql
SHOW DATABASES;
```

- information_schema：主要存储了系统中的一些数据库对象信息，比如用户表信息、列信息、权限信息、字符集信息和分区信息等。
- mysql：MySQL 的核心数据库，主要负责存储数据库用户、用户访问权限等 MySQL 自己需要使用的控制和管理信息。常用的比如在 mysql 数据库的 user 表中修改 root 用户密码。
- performance_schema：主要用于收集数据库服务器性能参数。
- sys：sys 数据库主要提供了一些视图，数据都来自于 performation_schema，主要是让开发者和使用者更方便地查看性能问题。

### 修改数据库

在 MySQL 数据库中只能对数据库使用的字符集进行修改

```mysql
ALTER DATABASE 数据库名 CHARSET 字符集名;
```

### 删除数据库

当数据库不再使用时应该将其删除，以确保数据库存储空间中存放的是有效数据。删除数据库是将已经存在的数据库从磁盘空间上清除，清除之后，数据库中的所有数据也将一同被删除。

```mysql
DROP DATABASE [ IF EXISTS ] 数据库名
```

使用 DROP DATABASE 命令时要非常谨慎，在执行该命令后，MySQL 不会给出任何提示确认信息。DROP DATABASE 删除数据库后，数据库中存储的所有数据表和数据也将一同被删除，而且不能恢复。

### 选择数据库

MySQL 中就有很多系统自带的数据库，那么在操作数据库之前就必须要确定是哪一个数据库。

在 MySQL 中，USE 语句用来完成一个数据库到另一个数据库的跳转。

```mysql
USE 数据库名
```
