# 字符串，字典和集合

## 1.字符串

### 1.什么是字符串

- 若干个字符的集合就是字符串
- 必须用引号包裹起来（必须是成对出现的）

### 2.处理字符串中的引号

1. 单引号包双引号 (可输出双引号)

   ~~~ python
   a = '1"23'
   ~~~

2. 双引号包裹单引号（可输出单引号）

   ~~~ python
   a = "1'23"
   ~~~

3. 对引号进行转义  \  转义符号

   ~~~ python
   a = '1\'123'
   ~~~

   - 当我们遇见这样的符号，只想输出这个字符的时候

   ~~~ python
   print(r'\n')
   r''  输出为正常的字符
   ~~~

4. 字符串换行
   1. python认为你一行代码不要超过79个字符
   2. 长字符串   用三对引号包裹  用来输出换行的长字符串

### 3.索引，切片

- 列表，元组，字符串通用
- 所有的索引和切片   都是通过[数字]
- 索引是从左往右，0开始，反过来，-1开始

~~~ python
a = "1234567"
print(a)
print(a[4])
print(a[-1])
print(a[1:6:2])
~~~

### 4.相加，相乘，判断，for循环，长度

~~~ python
'''
字符串可以相加
也可以相乘
也可以用来判断，是否存在这个元素
in   not in 
len（）表示长度
for循环
'''
# print("我" in "我是木易")  # True
# print("我木" in "")  # False 必须是相连的字符
# for i in "我是木易":
#     print(i)
# print(len("我是木易"))
~~~

### 5.重要的字符串操作

1. 字符串.strip()

   ~~~python
   '''字符串.strip()  默认去除两边的空格
   字符串.strip("符号(可以是多个)")  
   去除两边的指定的符号，指定的符号前面不能有其他的符号，
   指定的符号后面不能有其他的符号
   可以用于登录页面时，接受用户输入
   以后使用的时候一定要加上strip()
   字符串.lstrip()只去除左边的
   字符串.rstrip()只去除右边的
   '''
   # a = "       我是木易        "
   # print(a)
   # print(a.strip())
   
   # a = "*******我是木易*******"
   # print(a)
   # print(a.strip("*"))
   
   pwd = input().strip()
   
   ~~~

2. 字符串.split()

   ~~~python
   '''字符串.split()  默认以空格去分割，变成一个列表
   字符串.split(”符号“)  默认以符号去分割，变成一个列表
   a = "1.2.3.4"
   print(a.split("."))
   '''
   a = "1.2.3...4"  # 会使用空字符串去保证这个规则 相当于1.2.3. . .4
   print(a.split("."))
   ~~~

3. 字符串.upper() // 字符串.lower()

   ~~~python
   """字符串.lower()   将这个字符串变成小写  只有字母才有效果 
   字符串.upper()   将这个字符串变成大写  只有字母才有效果
   常用于什么时候  验证码      不区分大小写  
   """
   a = 'abcdefg'
   print(a.upper())
   a = 'ABCDEFG'
   print(a.lower())
   a = 'AEfg'
   
   b = input('请输入您的验证码').strip()
   if b.lower()==a.lower():
       print('验证码成功')
   ~~~

4. 字符串.startswith('字符') // 字符串.endswith('字符')

   ~~~python
   '''字符串.startswith('字符')  
   判断字符串是不是以指定的字符开头的 
   字符串.endswith('字符')
   判断字符串是不是以指定的字符结尾的 
   '''
   a = '1.jpg'
   print(a.endswith('jpg'))
   if a.endswith('jpg'):
       print('这是一张jpg的图片')
   name = input('请输入您的账户').strip()
   if not name.startswith('a'):
       print('您的账户必须是a开头的')
   ~~~

5. 字符串.join()

   ~~~python
   """'符号'.join(字符串)  
   用指定的符号插入到这个字符串的每一个字符中间  
   """
   a = '12345'
   print('&'.join(a))
   """结果为
   1&2&3&4&5
   """
   ~~~

6. 字符串.replace()

   ~~~python
   """字符串.replace('要修改的字符','修改后的字符')
   将这个字符串中的要修改的字符  
   替换成为 修改后的字符
   字符串.replace('要修改的字符','修改后的字符',数字)
   将这个字符串中的要修改的字符  
   替换成为 修改后的字符  只会更改多少次  由这个数字决定
   字符串.replace(“要修改旧的字符”, "修改后的字符"
   , 数字)  数字表示更改几次，不写默认全部，为负时全改
   """
   a = '我是老杨，我是老杨,我是老杨'
   print(a.replace('老杨','木易'))
   print(a.replace('老杨','木易',-1))
   print(a.replace('老杨','木易',2))
   ~~~


### 6.小结

1. 索引和切片（字符串不可更改）
2. 可以相加，拼接，相乘，重复
3. len（） 取长度
4. in 判断是否存在
5. for 循环
6. list   tuple    dict  都是类似的  （数字不行，是整体，没有长度，切片等等）
7. strip（）  常用于去除左右两边的空格
8. split（）   按照空格去切割成为一个列表

## 2.字典

### 1.字典

~~~pytohn

{键:值}
或者是dict()
len()得到键值对的个数
字典中我们操作的都是键
也可以使用for循环
根据键去取值，没有索引
但是可以通过键名，去得到键值

字典.items()  得到键值对  可以用两个参数，一个是键，一个是值
字典.keys()  得到键
字典.values()  得到值

字典[键] = 数据
若有的话，改变，没有的话，增加
检索没有的话，会报错

字典.pop(键)    删除键和对应的值   会得到值

del 字典[键]   没有返回值

字典.get(键)   没有的话不会报错，而是返回none
字典.get(键， 默认值)    
没有的话不会报错，而是返回你写的默认值

字典.popitem()    删除字典的最后一个键值对

字典.update()  
用新的字典去更新旧的字典，有就修改，没有就添加

~~~

## 3.集合

### 1.集合

~~~python
a = {1，2，3}
用花括号包裹
元素个数没有限制
集合只可以放不可变数据类型   str，boolint，tuple，float
可变数据类型不行  list dict （set也是可变）

集合中的元素是惟一的，可以用来去重
可以有交集，并集，差集，
无序
可以使用for循环

~~~

## 4.总结

1. 按照使用频率  int，float，bool    str   list  dict   tuple   set
2. str    list      tuple  可以索引，切片
3. str tuple 不能修改
4. dict只能通过键取值
5. len()   in  for循环    str   list  dict   tuple   都是共用的
6. str中strip()，  split()
7. list中append()
8. dict中get()

## 5.gc

### 1.什么是GC

1. 垃圾回收机制
2. 一个程序想要运行    硬盘 === 》  内存  == =》  CPU
3. 变量使用完成就是垃圾，应该回收不能占内存，应该被回收

### 2.三种回收机制

#### 1.引用标记

栈区，堆区

![1656056793438](C:\Users\赵鑫杰\Desktop\笔记\python\字符串，字典和集合.assets\1656056793438.png)

有一次绑定，引用计数会加1

当为0时，认为是垃圾，回收

#### 2.标记清除

![1656056897511](C:\Users\赵鑫杰\Desktop\笔记\python\字符串，字典和集合.assets\1656056897511.png)

输出结果：

![1656056927091](C:\Users\赵鑫杰\Desktop\笔记\python\字符串，字典和集合.assets\1656056927091.png)

相当于一个死循环，引用计数永远不会为零

![1656057010685](C:\Users\赵鑫杰\Desktop\笔记\python\字符串，字典和集合.assets\1656057010685.png)



从栈区出发，如果没有绑定关系，就会标记，然后清除

#### 3.分代回收

内存空间不够

扫描空间   ，内存地址经常使用

![1656057260240](C:\Users\赵鑫杰\Desktop\笔记\python\字符串，字典和集合.assets\1656057260240.png)

当扫描的时候还在用，没有删除，会将等级提高一级，相隔时间更长去扫描，





垃圾回收是一个线程

